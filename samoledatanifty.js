const mongoose = require("mongoose");
const chalk = require("chalk");
const niftyschema = require("./models/niftyschema");

// MongoDB connection
mongoose
  .connect("mongodb+srv://admin:hbGtVkPoT6gDR8lf@cluster0.gjyf8.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0")
  .then(() => console.log(chalk.white(`\nConnected to MongoDB successfully!\n`)))
  .catch((err) => console.error("Failed to connect to MongoDB", err));

// Sensex company data
const niftyCompanies = [
  {
    companyName: "Reliance Industries",
    symbol: "RELIANCE",
    currentPrice: 2500.00,
    openPrice: 2480.00,
    highPrice: 2520.00,
    lowPrice: 2470.00,
    marketCap: 1710000,
    volume: 4500000,
    sector: "Energy",
    priceChange: 20.00,
    percentageChange: 0.81,
  },
  {
    companyName: "Tata Consultancy Services",
    symbol: "TCS",
    currentPrice: 3300.00,
    openPrice: 3280.00,
    highPrice: 3325.00,
    lowPrice: 3275.00,
    marketCap: 1220000,
    volume: 2200000,
    sector: "Technology",
    priceChange: 20.00,
    percentageChange: 0.61,
  },
  {
    companyName: "HDFC Bank",
    symbol: "HDFCBANK",
    currentPrice: 1500.00,
    openPrice: 1485.00,
    highPrice: 1510.00,
    lowPrice: 1480.00,
    marketCap: 900000,
    volume: 3500000,
    sector: "Finance",
    priceChange: 15.00,
    percentageChange: 1.01,
  },
  {
    companyName: "Infosys",
    symbol: "INFY",
    currentPrice: 1400.00,
    openPrice: 1390.00,
    highPrice: 1415.00,
    lowPrice: 1385.00,
    marketCap: 800000,
    volume: 2900000,
    sector: "Technology",
    priceChange: 10.00,
    percentageChange: 0.72,
  },
  {
    companyName: "Hindustan Unilever",
    symbol: "HINDUNILVR",
    currentPrice: 2600.00,
    openPrice: 2590.00,
    highPrice: 2615.00,
    lowPrice: 2585.00,
    marketCap: 670000,
    volume: 1800000,
    sector: "Consumer Goods",
    priceChange: 10.00,
    percentageChange: 0.38,
  },
  {
    companyName: "ICICI Bank",
    symbol: "ICICIBANK",
    currentPrice: 980.00,
    openPrice: 970.00,
    highPrice: 985.00,
    lowPrice: 965.00,
    marketCap: 650000,
    volume: 4100000,
    sector: "Finance",
    priceChange: 10.00,
    percentageChange: 1.03,
  },
  {
    companyName: "State Bank of India",
    symbol: "SBIN",
    currentPrice: 600.00,
    openPrice: 595.00,
    highPrice: 605.00,
    lowPrice: 590.00,
    marketCap: 540000,
    volume: 5000000,
    sector: "Finance",
    priceChange: 5.00,
    percentageChange: 0.84,
  },
  {
    companyName: "Bharti Airtel",
    symbol: "BHARTIARTL",
    currentPrice: 780.00,
    openPrice: 770.00,
    highPrice: 785.00,
    lowPrice: 765.00,
    marketCap: 500000,
    volume: 2700000,
    sector: "Technology",
    priceChange: 10.00,
    percentageChange: 1.30,
  },
  {
    companyName: "ITC",
    symbol: "ITC",
    currentPrice: 400.00,
    openPrice: 395.00,
    highPrice: 405.00,
    lowPrice: 390.00,
    marketCap: 480000,
    volume: 3800000,
    sector: "Consumer Goods",
    priceChange: 5.00,
    percentageChange: 1.27,
  },
  {
    companyName: "Kotak Mahindra Bank",
    symbol: "KOTAKBANK",
    currentPrice: 1900.00,
    openPrice: 1880.00,
    highPrice: 1915.00,
    lowPrice: 1875.00,
    marketCap: 470000,
    volume: 1900000,
    sector: "Finance",
    priceChange: 20.00,
    percentageChange: 1.06,
  },
  {
    companyName: "Axis Bank",
    symbol: "AXISBANK",
    currentPrice: 1000.00,
    openPrice: 995.00,
    highPrice: 1010.00,
    lowPrice: 990.00,
    marketCap: 2200000,
    volume: 3000000,
    sector: "Finance",
    priceChange: 15.00,
    percentageChange: 1.52,
  },
  {
    companyName: "Maruti Suzuki",
    symbol: "MARUTI",
    currentPrice: 8500.00,
    openPrice: 8400.00,
    highPrice: 8550.00,
    lowPrice: 8350.00,
    marketCap: 2600000,
    volume: 1200000,
    sector: "Industrials",
    priceChange: 50.00,
    percentageChange: 0.59,
  },
  {
    companyName: "Larsen & Toubro",
    symbol: "LT",
    currentPrice: 2300.00,
    openPrice: 2280.00,
    highPrice: 2350.00,
    lowPrice: 2260.00,
    marketCap: 1500000,
    volume: 1700000,
    sector: "Engineering",
    priceChange: 20.00,
    percentageChange: 0.87,
  },
  {
    companyName: "Mahindra & Mahindra",
    symbol: "M&M",
    currentPrice: 1300.00,
    openPrice: 1280.00,
    highPrice: 1320.00,
    lowPrice: 1275.00,
    marketCap: 1100000,
    volume: 1500000,
    sector: "Automobile",
    priceChange: 20.00,
    percentageChange: 1.56,
  },
  {
    companyName: "Power Grid Corporation",
    symbol: "POWERGRID",
    currentPrice: 240.00,
    openPrice: 238.00,
    highPrice: 245.00,
    lowPrice: 235.00,
    marketCap: 1300000,
    volume: 2300000,
    sector: "Energy",
    priceChange: 5.00,
    percentageChange: 2.13,
  },
  {
    companyName: "Asian Paints",
    symbol: "ASIANPAINT",
    currentPrice: 3100.00,
    openPrice: 3080.00,
    highPrice: 3120.00,
    lowPrice: 3050.00,
    marketCap: 2100000,
    volume: 1100000,
    sector: "Consumer Goods",
    priceChange: 10.00,
    percentageChange: 0.32,
  },
  {
    companyName: "UltraTech Cement",
    symbol: "ULTRACEMCO",
    currentPrice: 8500.00,
    openPrice: 8400.00,
    highPrice: 8600.00,
    lowPrice: 8350.00,
    marketCap: 1350000,
    volume: 1900000,
    sector: "Cement",
    priceChange: 30.00,
    percentageChange: 0.35,
  },
  {
    companyName: "Sun Pharmaceutical Industries",
    symbol: "SUNPHARMA",
    currentPrice: 1050.00,
    openPrice: 1035.00,
    highPrice: 1065.00,
    lowPrice: 1025.00,
    marketCap: 2000000,
    volume: 2500000,
    sector: "Pharmaceuticals",
    priceChange: 15.00,
    percentageChange: 1.45,
  },
  {
    companyName: "Bajaj Finance",
    symbol: "BAJFINANCE",
    currentPrice: 7600.00,
    openPrice: 7500.00,
    highPrice: 7650.00,
    lowPrice: 7400.00,
    marketCap: 1400000,
    volume: 2200000,
    sector: "Finance",
    priceChange: 20.00,
    percentageChange: 0.26,
  },
  {
    companyName: "Wipro",
    symbol: "WIPRO",
    currentPrice: 440.00,
    openPrice: 430.00,
    highPrice: 445.00,
    lowPrice: 420.00,
    marketCap: 2200000,
    volume: 3100000,
    sector: "Technology",
    priceChange: 10.00,
    percentageChange: 2.33,
  },
  {
    companyName: "NTPC",
    symbol: "NTPC",
    currentPrice: 220.00,
    openPrice: 218.00,
    highPrice: 225.00,
    lowPrice: 217.00,
    marketCap: 1500000,
    volume: 2400000,
    sector: "Energy",
    priceChange: 2.00,
    percentageChange: 0.92,
  },
  {
    companyName: "Dr. Reddy's Laboratories",
    symbol: "DRREDDY",
    currentPrice: 5400.00,
    openPrice: 5350.00,
    highPrice: 5450.00,
    lowPrice: 5300.00,
    marketCap: 1800000,
    volume: 1700000,
    sector: "Pharmaceuticals",
    priceChange: 20.00,
    percentageChange: 0.37,
  },
  {
    companyName: "Cipla",
    symbol: "CIPLA",
    currentPrice: 1050.00,
    openPrice: 1025.00,
    highPrice: 1060.00,
    lowPrice: 1015.00,
    marketCap: 500000,
    volume: 1600000,
    sector: "Pharmaceuticals",
    priceChange: 10.00,
    percentageChange: 0.96,
  },
  {
    companyName: "IndusInd Bank",
    symbol: "INDUSINDBK",
    currentPrice: 1500.00,
    openPrice: 1490.00,
    highPrice: 1520.00,
    lowPrice: 1485.00,
    marketCap: 460000,
    volume: 2200000,
    sector: "Finance",
    priceChange: 15.00,
    percentageChange: 1.01,
  },
  {
    companyName: "Tech Mahindra",
    symbol: "TECHM",
    currentPrice: 1500.00,
    openPrice: 1490.00,
    highPrice: 1525.00,
    lowPrice: 1480.00,
    marketCap: 680000,
    volume: 2100000,
    sector: "Technology",
    priceChange: 10.00,
    percentageChange: 0.67,
  },
  {
    companyName: "HCL Technologies",
    symbol: "HCLTECH",
    currentPrice: 1400.00,
    openPrice: 1390.00,
    highPrice: 1410.00,
    lowPrice: 1380.00,
    marketCap: 1150000,
    volume: 1300000,
    sector: "Technology",
    priceChange: 10.00,
    percentageChange: 0.72,
  },
  {
    companyName: "Tata Steel",
    symbol: "TATASTEEL",
    currentPrice: 1100.00,
    openPrice: 1095.00,
    highPrice: 1120.00,
    lowPrice: 1090.00,
    marketCap: 800000,
    volume: 2400000,
    sector: "Metals",
    priceChange: 20.00,
    percentageChange: 1.85,
  },
  {
    companyName: "Adani Ports and Special Economic Zone",
    symbol: "ADANIPORTS",
    currentPrice: 850.00,
    openPrice: 840.00,
    highPrice: 860.00,
    lowPrice: 830.00,
    marketCap: 2200000,
    volume: 1500000,
    sector: "Ports",
    priceChange: 15.00,
    percentageChange: 1.79,
  },
  {
    companyName: "Tata Motors",
    symbol: "TATAMOTORS",
    currentPrice: 500.00,
    openPrice: 490.00,
    highPrice: 510.00,
    lowPrice: 485.00,
    marketCap: 1050000,
    volume: 2400000,
    sector: "Automobile",
    priceChange: 10.00,
    percentageChange: 2.04,
  },
  {
    companyName: "JSW Steel",
    symbol: "JSWSTEEL",
    currentPrice: 720.00,
    openPrice: 710.00,
    highPrice: 730.00,
    lowPrice: 705.00,
    marketCap: 800000,
    volume: 2200000,
    sector: "Metals",
    priceChange: 15.00,
    percentageChange: 2.13,
  },
  {
    companyName: "ABB India",
    symbol: "ABBINDIA",
    currentPrice: 1800.00,
    openPrice: 1785.00,
    highPrice: 1825.00,
    lowPrice: 1775.00,
    marketCap: 500000,
    volume: 1500000,
    sector: "Engineering",
    priceChange: 15.00,
    percentageChange: 0.84,
},
{
    companyName: "Adani Green Energy",
    symbol: "ADANIGREEN",
    currentPrice: 900.00,
    openPrice: 885.00,
    highPrice: 910.00,
    lowPrice: 880.00,
    marketCap: 1200000,
    volume: 2000000,
    sector: "Energy",
    priceChange: 10.00,
    percentageChange: 1.12,
},
{
    companyName: "Bharat Petroleum Corporation",
    symbol: "BPCL",
    currentPrice: 500.00,
    openPrice: 490.00,
    highPrice: 510.00,
    lowPrice: 485.00,
    marketCap: 900000,
    volume: 3000000,
    sector: "Energy",
    priceChange: -5.00,
    percentageChange: -1.00,
},
{
  companyName:"Cipla",
  symbol:"CIPLA",
  currentPrice :1050 ,
  openPrice :1025 ,
  highPrice :1065 ,
  lowPrice :1015 ,
  marketCap :500000 ,
  volume :1600000 ,
  sector :"Pharmaceuticals" ,
  priceChange :10 ,
  percentageChange :0.96
},
{
  companyName:"GAIL India" ,
  symbol :"GAIL" ,
  currentPrice :350 ,
  openPrice :345 ,
  highPrice :355 ,
  lowPrice :340 ,
  marketCap :700000 ,
  volume :2500000 ,
  sector :"Energy" ,
  priceChange :5 ,
  percentageChange :1.45
},
{
  companyName:"Hero MotoCorp" ,
  symbol :"HEROMOTOCO" ,
  currentPrice :2700 ,
  openPrice :2655 ,
  highPrice :2755 ,
  lowPrice :2645 ,
  marketCap :800000 ,
  volume :1200000 ,
  sector :"Automobile" ,
  priceChange :15 ,
  percentageChange : .56
},
{
   companyName:"Hindalco Industries" ,
   symbol :"HINDALCO",
   currentPrice:450,
   openPrice:440,
   highPrice:455,
   lowPrice:435,
   marketCap:600000,
   volume:300000,
   sector:"Metals",
   priceChange:10,
   percentageChange:.69
},
{
   companyName:"Larsen & Toubro Infotech",
   symbol :"LTIMINDIA",
   currentPrice:400,
   openPrice:395,
   highPrice:405,
   lowPrice:390,
   marketCap:480000,
   volume:220000,
   sector:"Technology",
   priceChange:15,
   percentageChange:.75
},
{
   companyName:"Maruti Suzuki India Ltd.",
   symbol :"MARUTI",
   currentPrice:8500,
   openPrice:8400,
   highPrice:8550,
   lowPrice:8350,
   marketCap:2600000,
   volume:1200000,
   sector:"Automobile",
   priceChange:-25,
   percentageChange:-.29
},
{
     companyName:"Tata Motors",
     symbol:"TATAMOTORS",
     currentPrice :500 ,
     openPrice :490 ,
     highPrice :510 ,
     lowPrice :485 ,
     marketCap :1050000 ,
     volume :2400000 ,
     sector :"Automobile" ,
     priceChange :10 ,
     percentageChange :2.04
 },
 {
      companyName:"JSW Steel",
      symbol:"JSWSTEEL",
      currentPrice :720 ,
      openPrice :710 ,
      highPrice :730 ,
      lowPrice :705 ,
      marketCap :800000 ,
      volume :2200000 ,
      sector :"Metals",
      priceChange :15 ,
      percentageChange :2.13
 }
  
  // Add the remaining 20 companies similarly...
];

// Insert data into the database
niftyschema.insertMany(niftyCompanies)
  .then(() => {
    console.log(chalk.green("All 30 companies have been successfully inserted into the database!"));
    mongoose.connection.close();
  })
  .catch((err) => {
    console.error("Error inserting companies", err);
    mongoose.connection.close();
  });
